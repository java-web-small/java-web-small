<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'owners')}">

<body>
<h2 th:text="#{findOwners}">Find Owners</h2>

<form th:object="${owner}" th:action="@{/owners}" method="get"
      class="form-horizontal" id="search-owner-form">

  <!-- Quick search -->
  <div class="form-group">
    <div class="control-group" id="lastNameGroup">
      <label class="col-sm-2 control-label" th:text="#{lastName}">Last name </label>
      <div class="col-sm-10">
        <input class="form-control" th:field="*{lastName}" size="30" maxlength="80" placeholder="Nguyen" />
        <span class="help-inline">
          <div th:if="${#fields.hasAnyErrors()}">
            <p th:each="err : ${#fields.allErrors()}" th:text="${err}">Error</p>
          </div>
        </span>
      </div>
    </div>
  </div>

  <!-- Advanced filter -->
  <div id="advancedFilterOptions" style="display: none;">
    <div class="form-group">
      <label class="col-sm-2 control-label" th:text="#{firstName}">First Name</label>
      <div class="col-sm-10">
        <input class="form-control" th:field="*{firstName}" placeholder="John" />
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label" th:text="#{city}">City</label>
      <div class="col-sm-10">
        <input class="form-control" th:field="*{city}" placeholder="Hanoi" />
      </div>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary" th:text="#{findOwner}">Find Owner</button>
      <button type="button" class="btn btn-info" id="toggleAdvancedFilter">Toggle Advanced Filter</button>
    </div>
  </div>

  <a class="btn btn-primary" th:href="@{/owners/new}" th:text="#{addOwner}">Add Owner</a>
</form>

<script>
  document.getElementById('toggleAdvancedFilter').addEventListener('click', function () {
    const advancedOptions = document.getElementById('advancedFilterOptions');
    advancedOptions.style.display = advancedOptions.style.display === 'none' ? 'block' : 'none';
  });
</script>
</body>
</html>
